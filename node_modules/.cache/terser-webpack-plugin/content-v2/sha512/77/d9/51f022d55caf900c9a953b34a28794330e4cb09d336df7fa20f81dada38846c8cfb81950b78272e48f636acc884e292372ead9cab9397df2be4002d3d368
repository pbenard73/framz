{"code":"!function(e,s){for(var r in s)e[r]=s[r]}(exports,function(e){var s={};function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=s,r.d=function(e,s,t){r.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,s){if(1&s&&(e=r(e)),8&s)return e;if(4&s&&\"object\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:e}),2&s&&\"string\"!=typeof e)for(var n in e)r.d(t,n,function(s){return e[s]}.bind(null,n));return t},r.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(s,\"a\",s),s},r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},r.p=\"\",r(r.s=13)}([function(e,s){e.exports=require(\"underscore\")},function(e,s){e.exports=require(\"express\")},function(e,s){e.exports=require(\"sequelize\")},function(e,s){e.exports=require(\"express-session\")},function(e,s){e.exports=require(\"cookie-parser\")},function(e,s){e.exports=require(\"morgan\")},function(e,s){e.exports=require(\"compression\")},function(e,s){e.exports=require(\"redis\")},function(e,s){e.exports=require(\"connect-redis\")},function(e,s){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /home/patrick/Workspace/framz/src/core/database/baseModel.js: Unexpected token, expected \\\";\\\" (29:21)\\n\\n\u001b[0m \u001b[90m 27 | \u001b[39m\\tfieldMapping(field) {\u001b[0m\\n\u001b[0m \u001b[90m 28 | \u001b[39m\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 | \u001b[39m\\t\\tswicth(field\u001b[33m.\u001b[39mtype) {\u001b[0m\\n\u001b[0m \u001b[90m    | \u001b[39m\\t\\t                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 30 | \u001b[39m\\t\\t\\t\u001b[36mcase\u001b[39m \u001b[32m'text'\u001b[39m\u001b[33m:\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 31 | \u001b[39m\\t\\t\\t\\t\u001b[36mreturn\u001b[39m \u001b[33mSequelize\u001b[39m\u001b[33m.\u001b[39m\u001b[33mSTRING\u001b[39m(field\u001b[33m.\u001b[39mlength \u001b[33m!==\u001b[39m undefined \u001b[33m?\u001b[39m field\u001b[33m.\u001b[39mlength \u001b[33m:\u001b[39m \u001b[35m250\u001b[39m)\u001b[0m\\n\u001b[0m \u001b[90m 32 | \u001b[39m\\t\\t\\t\u001b[36mcase\u001b[39m \u001b[32m'boolean'\u001b[39m\u001b[33m:\u001b[39m\u001b[0m\\n    at Parser._raise (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:766:17)\\n    at Parser.raiseWithData (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:759:17)\\n    at Parser.raise (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:753:17)\\n    at Parser.unexpected (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:8966:16)\\n    at Parser.semicolon (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:8948:40)\\n    at Parser.parseExpressionStatement (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11971:10)\\n    at Parser.parseStatementContent (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11567:19)\\n    at Parser.parseStatement (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11431:17)\\n    at Parser.parseBlockOrModuleBlockBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12013:25)\\n    at Parser.parseBlockBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11999:10)\\n    at Parser.parseBlock (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11983:10)\\n    at Parser.parseFunctionBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:10963:24)\\n    at Parser.parseFunctionBodyAndFinish (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:10946:10)\\n    at Parser.parseMethod (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:10883:10)\\n    at Parser.pushClassMethod (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12430:30)\\n    at Parser.parseClassMemberWithIsStatic (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12347:12)\\n    at Parser.parseClassMember (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12289:10)\\n    at /home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12241:14\\n    at Parser.withTopicForbiddingContext (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11272:14)\\n    at Parser.parseClassBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12218:10)\\n    at Parser.parseClass (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12193:22)\\n    at Parser.parseStatementContent (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11473:21)\\n    at Parser.parseStatement (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11431:17)\\n    at Parser.parseBlockOrModuleBlockBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12013:25)\\n    at Parser.parseBlockBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11999:10)\\n    at Parser.parseTopLevel (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11362:10)\\n    at Parser.parse (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:13045:10)\\n    at parse (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:13098:38)\\n    at parser (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/parser/index.js:54:34)\\n    at parser.next (<anonymous>)\\n    at normalizeFile (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/transformation/normalize-file.js:99:38)\\n    at normalizeFile.next (<anonymous>)\\n    at run (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/transformation/index.js:31:50)\\n    at run.next (<anonymous>)\\n    at Function.transform (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/transform.js:27:41)\\n    at transform.next (<anonymous>)\")},function(e,s){e.exports=require(\"http\")},function(e,s){e.exports=require(\"path\")},function(e,s){e.exports=require(\"socket.io\")},function(e,s,r){\"use strict\";r.r(s),r.d(s,\"App\",(function(){return U})),r.d(s,\"express\",(function(){return G}));var t=r(1),n=r.n(t),i=(r(11),r(4)),o=r.n(i),a=r(5),c=r.n(a),l=r(0),u=r.n(l),d=r(6),p=r.n(d),m={use:function(...e){return this.uses.push(e),this},get:function(...e){return this.routers.push([\"get\",e]),this},addRouter:function(...e){return this.routers.push([\"router\",e]),this},addPublic(...e){return this.publicFolders.push(e),this}},f=r(3),b=r.n(f),h=r(7),k=r.n(h),x=r(8),g=r.n(x),j={setSessionConfig:function(e,s,r){return void 0===s?this.config.session.config=e:this.config.session=void 0!==r?{type:e,config:s,redisConfig:r}:{type:e},this},init:function(){if(!0===this.config.useSession){let e=this.config.session.config;if(\"redis\"===this.config.session){e={store:new(g()(b.a))({client:k.a.createClient(this.config.session.redisConfig)}),...this.config.session.config}}this.app.use(b()(e))}}},y=r(2),P=r.n(y),W=r(9),_=r.n(W);function z(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}class v extends _.a{constructor(...e){super(...e),z(this,\"name\",\"user\"),z(this,\"fields\",{username:{type:\"text\",uniq:!0,length:250},password:{type:\"text\",length:500}})}}var S=v;function C(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}var M=new class{constructor(){C(this,\"databases\",{main:{}}),C(this,\"models\",{user:{data:S}})}init(e){this.databases.main=new P.a(e.config.database),this.processModels(this.databases.main),this.databases.main.sync()}processModels(e){u.a.each(Object.keys(this.models),s=>{this.models[s].model=this.models[s].data.build(e)})}},w={setDatabaseConfig:function(e){return this.config.database=e,this},addModel:function(e){return this.models.push(e),this},addModels:function(...e){return this.models=[...this.models,...e],this},init:function(){\"object\"==typeof this.config.database&&M.init(this)}},O={setSocketConfig:function(e){return this.config.socket=void 0===e?{}:e,this},useSocket:function(e=!0,s=!1){return this.config.useSocket=e,this.config.useSessionSocket=s,this},addRooms:function(...e){return this.sockets=[...this.sockets,...e],this},initSocket:function(e){return this.io=e,console.log(\"Jinit le io\"),this}};var q=new class{constructor(){var e,s,r;r={},(s=\"modules\")in(e=this)?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}addModule(e){}};var B=new class{constructor(){var e,s,r;r={},(s=\"website\")in(e=this)?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}addWebsite(e){}},F={addWebsite:function(e){return B.addWebsite(e),this},addWebsites:function(...e){return u.a.each(e,e=>this.addWebsite(e)),this},addModule:function(e){return q.addModule(e),this},addModules:function(...e){return u.a.each(e,e=>this.addModule(e)),this},init:function(){}},E=r(10);let T;var R,A=function(){if(R=function(e){var s=parseInt(e,10);if(isNaN(s))return e;if(s>=0)return s;return!1}(process.env.PORT||\"3000\"),this.app.set(\"port\",R),T=E.createServer(this.app),!0===this.config.useSocket){const e=r(12)(T);this.initSocket(e)}T.listen(R),T.on(\"error\",I),T.on(\"listening\",D)};function D(){var e=T.address(),s=\"string\"==typeof e?\"pipe \"+e:\"port \"+e.port;console.log(\"Listening on \"+s)}function I(e){if(\"listen\"!==e.syscall)throw e;var s=\"string\"==typeof R?\"Pipe \"+R:\"Port \"+R;switch(e.code){case\"EACCES\":console.error(s+\" requires elevated privileges\"),process.exit(1);break;case\"EADDRINUSE\":console.error(s+\" is already in use\"),process.exit(1);break;default:throw e}}function N(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function L(...e){const s=[\"build\"];u.a.each(e,e=>{u.a.each(Object.keys(e),r=>{\"init\"===r?this.inits.push(e[r]):-1===s.indexOf(r)&&(this[r]=(...s)=>e[r].call(this,...s))})})}const U=new class{constructor(){N(this,\"app\",n()()),N(this,\"uses\",[]),N(this,\"routers\",[]),N(this,\"publicFolders\",[]),N(this,\"models\",[]),N(this,\"sockets\",[]),N(this,\"io\",null),N(this,\"config\",{session:{type:null,config:{},redisConfig:void 0},socket:{}}),N(this,\"defaultConfig\",{useCors:!1,statics:{},useSession:!0,useCompression:!0,useSocket:!1,useSessionSocket:!1}),N(this,\"inits\",[]),L.call(this,j,m,F,w,O)}setConfig(e){return this}run(){this.config={...this.defaultConfig,...this.config},this.app.set(\"trust proxy\",1),u.a.each(this.inits,e=>{e.call(this)}),this.app.use(c()(\"dev\")),this.app.use(n.a.json()),this.use(n.a.urlencoded({extended:!1})),this.use(o()()),this.use(p()()),u.a.each(this.publicFolders,e=>{1===e.length?this.app.use(n.a.static(...e)):2===e.length&&this.app.use(e[0],n.a.static(e[1]))}),u.a.each(this.uses,e=>{this.app.use(...e)}),u.a.each(this.routers,e=>{let[s,r]=e;this.app[\"router\"===s?\"use\":s](...r)}),A.call(this)}},G=n.a}]));","extractedComments":[]}