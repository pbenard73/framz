{"code":"!function(e,s){for(var t in s)e[t]=s[t]}(exports,function(e){var s={};function t(r){if(s[r])return s[r].exports;var n=s[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=s,t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:r})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,s){if(1&s&&(e=t(e)),8&s)return e;if(4&s&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&s&&\"string\"!=typeof e)for(var n in e)t.d(r,n,function(s){return e[s]}.bind(null,n));return r},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,\"a\",s),s},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},t.p=\"\",t(t.s=13)}([function(e,s){e.exports=require(\"underscore\")},function(e,s){e.exports=require(\"express\")},function(e,s){e.exports=require(\"sequelize\")},function(e,s){e.exports=require(\"express-session\")},function(e,s){e.exports=require(\"cookie-parser\")},function(e,s){e.exports=require(\"morgan\")},function(e,s){e.exports=require(\"compression\")},function(e,s){e.exports=require(\"redis\")},function(e,s){e.exports=require(\"connect-redis\")},function(e,s){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /home/patrick/Workspace/framz/src/models/user.js: Unexpected token (4:5)\\n\\n\u001b[0m \u001b[90m 2 | \u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 3 | \u001b[39m\u001b[36mclass\u001b[39m \u001b[33mUser\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseModel\u001b[39m {\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 4 | \u001b[39m\\tname\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m   | \u001b[39m\\t    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 5 | \u001b[39m\\tfields\u001b[33m:\u001b[39m {\u001b[0m\\n\u001b[0m \u001b[90m 6 | \u001b[39m\\t\\tusername\u001b[33m:\u001b[39m {\u001b[0m\\n\u001b[0m \u001b[90m 7 | \u001b[39m\\t\\t\\ttype\u001b[33m:\u001b[39m \u001b[32m'text'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\\n    at Parser._raise (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:766:17)\\n    at Parser.raiseWithData (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:759:17)\\n    at Parser.raise (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:753:17)\\n    at Parser.unexpected (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:8966:16)\\n    at Parser.parseClassMemberWithIsStatic (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12396:12)\\n    at Parser.parseClassMember (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12289:10)\\n    at /home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12241:14\\n    at Parser.withTopicForbiddingContext (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11272:14)\\n    at Parser.parseClassBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12218:10)\\n    at Parser.parseClass (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12193:22)\\n    at Parser.parseStatementContent (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11473:21)\\n    at Parser.parseStatement (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11431:17)\\n    at Parser.parseBlockOrModuleBlockBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:12013:25)\\n    at Parser.parseBlockBody (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11999:10)\\n    at Parser.parseTopLevel (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:11362:10)\\n    at Parser.parse (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:13045:10)\\n    at parse (/home/patrick/Workspace/framz/node_modules/@babel/parser/lib/index.js:13098:38)\\n    at parser (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/parser/index.js:54:34)\\n    at parser.next (<anonymous>)\\n    at normalizeFile (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/transformation/normalize-file.js:99:38)\\n    at normalizeFile.next (<anonymous>)\\n    at run (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/transformation/index.js:31:50)\\n    at run.next (<anonymous>)\\n    at Function.transform (/home/patrick/Workspace/framz/node_modules/@babel/core/lib/transform.js:27:41)\\n    at transform.next (<anonymous>)\\n    at step (/home/patrick/Workspace/framz/node_modules/gensync/index.js:254:32)\\n    at /home/patrick/Workspace/framz/node_modules/gensync/index.js:266:13\\n    at async.call.result.err.err (/home/patrick/Workspace/framz/node_modules/gensync/index.js:216:11)\")},function(e,s){e.exports=require(\"http\")},function(e,s){e.exports=require(\"path\")},function(e,s){e.exports=require(\"socket.io\")},function(e,s,t){\"use strict\";t.r(s),t.d(s,\"App\",(function(){return I})),t.d(s,\"express\",(function(){return N}));var r=t(1),n=t.n(r),i=(t(11),t(4)),o=t.n(i),a=t(5),c=t.n(a),u=t(0),l=t.n(u),d=t(6),m=t.n(d),p={use:function(...e){return this.uses.push(e),this},get:function(...e){return this.routers.push([\"get\",e]),this},addRouter:function(...e){return this.routers.push([\"router\",e]),this},addPublic(...e){return this.publicFolders.push(e),this}},f=t(3),h=t.n(f),b=t(7),k=t.n(b),x=t(8),g=t.n(x),j={setSessionConfig:function(e,s,t){return void 0===s?this.config.session.config=e:this.config.session=void 0!==t?{type:e,config:s,redisConfig:t}:{type:e},this},init:function(){if(!0===this.config.useSession){let e=this.config.session.config;if(\"redis\"===this.config.session){e={store:new(g()(h.a))({client:k.a.createClient(this.config.session.redisConfig)}),...this.config.session.config}}this.app.use(h()(e))}}},y=t(2),v=t.n(y),W=t(9),_=t.n(W);function z(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var P=new class{constructor(){z(this,\"databases\",{main:{}}),z(this,\"models\",{user:{data:_.a}})}init(e){this.databases.main=new v.a(e.config.database),this.processModels(this.databases.main),this.databases.main.sync()}processModels(e){l.a.each(Object.keys(this.models),s=>{this.models[s].model=this.models[s].data.build(e)})}},S={setDatabaseConfig:function(e){return this.config.database=e,this},addModel:function(e){return this.models.push(e),this},addModels:function(...e){return this.models=[...this.models,...e],this},init:function(){\"object\"==typeof this.config.database&&P.init(this)}},C={setSocketConfig:function(e){return this.config.socket=void 0===e?{}:e,this},useSocket:function(e=!0,s=!1){return this.config.useSocket=e,this.config.useSessionSocket=s,this},addRooms:function(...e){return this.sockets=[...this.sockets,...e],this},initSocket:function(e){return this.io=e,console.log(\"Jinit le io\"),this}};var w=new class{constructor(){var e,s,t;t={},(s=\"modules\")in(e=this)?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t}addModule(e){}};var M=new class{constructor(){var e,s,t;t={},(s=\"website\")in(e=this)?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t}addWebsite(e){}},O={addWebsite:function(e){return M.addWebsite(e),this},addWebsites:function(...e){return l.a.each(e,e=>this.addWebsite(e)),this},addModule:function(e){return w.addModule(e),this},addModules:function(...e){return l.a.each(e,e=>this.addModule(e)),this},init:function(){}},q=t(10);let B;var F,E=function(){if(F=function(e){var s=parseInt(e,10);if(isNaN(s))return e;if(s>=0)return s;return!1}(process.env.PORT||\"3000\"),this.app.set(\"port\",F),B=q.createServer(this.app),!0===this.config.useSocket){const e=t(12)(B);this.initSocket(e)}B.listen(F),B.on(\"error\",D),B.on(\"listening\",T)};function T(){var e=B.address(),s=\"string\"==typeof e?\"pipe \"+e:\"port \"+e.port;console.log(\"Listening on \"+s)}function D(e){if(\"listen\"!==e.syscall)throw e;var s=\"string\"==typeof F?\"Pipe \"+F:\"Port \"+F;switch(e.code){case\"EACCES\":console.error(s+\" requires elevated privileges\"),process.exit(1);break;case\"EADDRINUSE\":console.error(s+\" is already in use\"),process.exit(1);break;default:throw e}}function R(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function A(...e){const s=[\"build\"];l.a.each(e,e=>{l.a.each(Object.keys(e),t=>{\"init\"===t?this.inits.push(e[t]):-1===s.indexOf(t)&&(this[t]=(...s)=>e[t].call(this,...s))})})}const I=new class{constructor(){R(this,\"app\",n()()),R(this,\"uses\",[]),R(this,\"routers\",[]),R(this,\"publicFolders\",[]),R(this,\"models\",[]),R(this,\"sockets\",[]),R(this,\"io\",null),R(this,\"config\",{session:{type:null,config:{},redisConfig:void 0},socket:{}}),R(this,\"defaultConfig\",{useCors:!1,statics:{},useSession:!0,useCompression:!0,useSocket:!1,useSessionSocket:!1}),R(this,\"inits\",[]),A.call(this,j,p,O,S,C)}setConfig(e){return this}run(){this.config={...this.defaultConfig,...this.config},this.app.set(\"trust proxy\",1),l.a.each(this.inits,e=>{e.call(this)}),this.app.use(c()(\"dev\")),this.app.use(n.a.json()),this.use(n.a.urlencoded({extended:!1})),this.use(o()()),this.use(m()()),l.a.each(this.publicFolders,e=>{1===e.length?this.app.use(n.a.static(...e)):2===e.length&&this.app.use(e[0],n.a.static(e[1]))}),l.a.each(this.uses,e=>{this.app.use(...e)}),l.a.each(this.routers,e=>{let[s,t]=e;this.app[\"router\"===s?\"use\":s](...t)}),E.call(this)}},N=n.a}]));","extractedComments":[]}